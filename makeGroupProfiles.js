/* jshint node: true, unused: true */

//dependencies
const querystring = require('querystring');
const https = require('https');


//give every Array a range() and random() method
Array.prototype.range = rangeArray
Array.prototype.random = randomArray

//config for dungeon... CUSTOMIZE THESE VALUES!!!!
const config = {
    //project token
    projectToken: "009c696fd3f040f5b32297ac50845210",

    //string name for the group key (defined in project settings)
    groupKeyName: "brand_id",

    //use a numerical id for the group identifier
    groupKeyValue: [].range(1, 10000),

    //put in as many group profile props as you'd like 
    //NOTE: each value should be an ARRAY, script will randomly select a value from the array
    gropProfileProps: {
        "$name": ["Costa", "100 Essentials", "17 Stories", "2 Day Designs, Inc", "2nd Ave Design", "3 Sprouts", "3M", "4 Walls", "4D Concepts", "4M", "5280 Pool Cues", "A&B Home", "A&E Wood Designs", "A+ Child Supply", "AA Importing", "AARCO", "Acacia Home and Garden", "Acco Brands, Inc.", "Accudart", "ACF Bathroom Vanities", "Achim Importing Co", "Acme United Corporation", "Action", "ACTUANT ELECTRICAL - MARINCO", "Adesso", "Adir Corp", "Advance Tabco", "Advanced Graphics", "Advantus Corp.", "ADZif", "Aeon Furniture", "Aero Manufacturing", "Aero Pure", "AFG Baby Furniture", "AFX", "Ahh! Products", "AICO AOS OFFICE", "Aidata U.S.A", "Aircloud", "Akerue Industries", "Akro-Mils", "Alba", "Alba, Inc", "Alcott Hill®", "Alera®", "Alessco Inc.", "Alessi", "Alfi Brand", "Alico", "A-Line by Advance Tabco", "Allan Copley Designs", "AllerEase", "Allied Brass", "Alligator", "AllModern", "Allsop", "Allstone Group", "Alno Inc", "Alphabet Garden Designs", "Alphacolor", "Alpine Furniture", "Alston", "Althea by Nameeks", "Altra Furniture", "Alvin and Co.", "Alwyn Home", "AMAC", "Amba", "Amerec", "American Acrylic", "American Fireglass", "American Furniture Classics", "American Heritage", "American Home Rug Co.", "American Legend", "American Plastic Toys", "American Standard", "American Textile", "Amerock", "Amity Home", "AmpliVox Sound Systems", "Anchor Audio", "Anderson Teak", "Andover Mills™", "Andover Mills™ Baby & Kids", "Andrew Philips", "Angeles", "angelo:HOME", "Anne at Home", "Anthony California", "Antique Revival", "Anywhere Fireplace", "Apache Mills", "Aqua Teak", "Aquatica", "Aqueous Faucet", "Aquila Art Glass", "Arachnid", "Ariel Bath", "Arlmont & Co.", "Armen Living", "Arrowmounts", "Arroyo Craftsman", "Arsuite", "Artemide", "ARTERIORS", "Artesano Home Decor", "Artesano Iron Works", "Arthur Court Designs", "Artisan Home Furniture", "Artistic", "Artistic Reflections", "ARTLESS", "Artmax", "Artskills", "ArtWall", "Aston", "Astoria Grand", "Athena", "Atlantic", "Atlantic Outdoor", "Atlas Homewares", "Atlas Sound", "Atmosphere", "Atomic Game Tables", "Attwood", "Audio Solutions", "August Grove®", "Authentic Models", "Avalisa", "Avanity", "Axor", "B&K Industries", "B&T Design", "babyletto", "Bacati", "Backdrop", "Badger Basket", "Bai Design", "Bailey Street", "Baldwin", "Balt", "Baltic Leisure", "Bamboo54", "Bamboogle", "Barclay", "Barclay Butera Lifestyle", "Bargoose Home Textiles", "Barska", "Baseline", "Baseline Licensing Group", "Bass", "Basyx by HON", "Bay Isle Home™", "Bayou Breeze", "Bayou Classic", "Bazic", "Bazoongi Kids", "BDI", "Beachcrest Home™", "Beautyrest", "Beautyrest", "Bebe Furniture", "BEHRENS England", "Belkin", "Bell + Howell", "Bellaterra Home", "Bellini Modern Living", "Bellino", "Belmont Decor", "Bend Goods", "Benetti's Italia", "Benkel Seating", "Bernards", "Bernhardt", "Besa Lighting", "Best of Times", "Best Ride On Cars", "Bestar", "Beth Lacefield for Surya", "Better Living Products", "Beyan Signature", "BIA Cordon Bleu", "Bienfang", "Big Joe", "Big John", "Big Toys", "Bio Bidet", "BioPEDIC", "Birch Lane™", "Bisley", "BKind3 by Lazar", "Black Canyon", "Blakeway Worldwide Panoramas, Inc", "Blomus", "Bloomsbury Market", "Blu Dot", "Blue Magic", "Blue Mountain Wallcoverings", "Blue Ridge Home Fashions", "Blueberrie Kids", "B-Modern", "Boann", "Boardwalk", "Bobrick", "Boca Rattan", "Bond Manufacturing", "Bone Collector", "BonJour", "Bontempi Casa", "Boom Design", "Boraam Industries Inc", "Boss Office Products", "Bottelsen Darts", "Bradley Corporation", "Brainerd", "Brand New World", "Brandee Danielle", "BrassCraft", "Brayden Studio®", "Brazil Furniture", "Breakwater Bay", "Brewer", "Brewster Home Fashions", "Briggs Healthcare", "Brik-a-Blok Toys", "Broan NuTone", "Brondell", "Browning", "Brownstone Furniture", "BSI Products", "B-Tech", "Budd Leather", "Buddy Products", "Buffalo Tools", "Bungalow Rose", "Bush Business Furniture", "Business Source", "Butler", "Butt'N Head", "Cadet", "Cal Flame", "Calligaris", "Calphalon", "Calvin Klein", "Cambridge", "Cambridge Plumbing", "Camco", "Canarm", "Candice Olson Rugs", "Canora Grey", "Canson", "Cape Craftsmen", "Capel Rugs", "Caracalla", "Caravel", "CarePlay", "Carex", "Carnation Home Fashions", "Carolina Furniture Works, Inc.", "Carpets for Kids", "Carrom", "Carson-Dellosa Publishing", "Carver Wood Products, INC.", "Casabianca Furniture", "Catnapper", "Catskill Craftsmen, Inc.", "CBK", "Cedar Green", "Ceets", "Centennial", "Center Enterprises Inc", "Centoco", "Central Brass", "Ceramica Tecla by Nameeks", "CeraStyle by Nameeks", "Cerno", "Champion Sports", "Championship", "Chandra Rugs", "ChargeIt! by Jay", "Charisma", "Charles Leonard Co.", "Charlton Home®", "Chartpak", "Chattanooga", "Cheetah Mounts", "Chelsea Home", "Chenille Kraft Company", "Cheungs", "Chicago Faucets", "Chief Manufacturing", "Child Craft", "Children's Factory", "Chilewich", "Chintaly Imports", "Chris & Chris", "Cici Art Factory", "Classic Brands", "Classic Lighting", "Classic Toy", "Clava Leather", "Clear Sound Corp", "ClearPrint", "Clipper Tags", "ClutterFree Hangers", "Coast to Coast Accents", "Coastal Farmhouse Baby & Kids", "Coaster", "Coghlans", "Cole + Company", "Coleman", "Coleman Cable", "Colgate", "College Covers", "Colonial Mills", "Color Wheel", "Comfort Products", "Comfort Revolution", "CommClad", "CompanyC", "Complete Medical", "Conair", "Connubia", "Conrad Grebel", "Conte", "Continental Rug Company", "Cooks Standard", "Cooper Classics", "CooperRegentLighting", "Copeland Furniture", "Copernicus", "Corbett Lighting", "Corelle", "Corrigan Studio®", "Corsican", "Cortesi Home", "Cotton Loft", "Cotton Tale", "Cotytech", "Country Living™ by Surya", "Coyuchi", "Cozy Products", "CPPInternational", "Craft Outlet", "Craftmaster", "Crafty Dab", "Crayola LLC", "Createch", "Creative Bath", "Creative Home", "Creative Images International", "Creative Motion", "Creativity Street®", "Crestview Collection", "Croscill Home Fashions", "Crosley Electronics", "Crown", "CROWN MATS & MATTING", "Crown Matting", "Crystorama", "CSI Bathware", "C-Thru", "Cuestix", "CueTec", "Cuisinart", "Cuisinox", "Custom Printed Rugs", "Cyan Design", "Dakota Fields", "Danco", "Daniadown", "Dansk", "Darby Home Co", "D-Art Collection", "Dart World", "Dash and Albert Rugs", "Dauphin", "Davidson Woodcrafters", "DaVinci", "DC America", "dCOR design", "Decko", "DECOLAV", "Decoteak", "Deeco", "Deflect-O Corporation", "Dekorasyon Gifts & Decor", "Delta", "Delta Breez", "Delta Children", "Deluxe Comfort", "Deny Designs", "Design by AKRO", "Design House", "Design Toscano", "Detecto", "DG Casa", "DIABLA", "Dial® Complete®", "Dick Martin Sports", "Diggin Active", "Dimplex", "DimplexPro", "Direct Vanity Sink", "Discovery World Furniture", "District Eight Design", "Diversified Woodcrafts", "Divine Home", "Dixie Seating Company", "Dixon Ticonderoga Company", "Dixon®", "DMI Sports", "Domitalia", "DON-JO MFG INC.", "Donner Bath Furnishings", "Donny Osmond Home", "Doodlefish", "Dotted Line™", "Dovecove", "Down Inc.", "Downright", "DownTown Company", "DR International", "Draper", "Dream Decor", "Dream Factory", "Dream On Me", "Dreambaby", "Dry-Lam", "DSD Group", "DTX Safes", "Durable Office Products Corp.", "Duravit", "Durham Manufacturing", "DVI", "D'Vontz", "Dwinguler", "Dyconn", "Dyconn Faucet", "Dynamic Infrared", "Dynamic Rugs", "Dynasty Fireplaces", "Dynasty Hardware", "E.S. ROBBINS", "Eagle Bath", "EAGO", "Eangee Home Design", "Earth Rugs", "East Urban Home", "Eastern Accents", "EatSmart", "Ebern Designs", "Eclipse Perfection Rest", "EcoChic Lifestyles", "Eco-Mount by AVF", "ECR4kids", "Eddie Bauer", "Educational Insights", "EGO", "Ekena Millwork", "Elanti", "Elegant Home Fashions", "Elements Fine Home Furnishings", "Elements of Design", "Eliminator", "Elite", "Elite Home Products", "Elite Home Products (Bedding)", "Elite Products", "Elite Screens", "Elkay", "Ella Walk In Baths", "Emerald Home Furnishings", "Emissary Home and Garden", "Empire Industries", "Enclume", "Endless Summer", "Entryways", "Epicureanist", "EQ3", "Equator", "ErgoErgo", "ES Robbins Corporation", "Escali", "Essential Learning Products", "Essey", "Estora", "Eurodib", "Eurofase", "Everlast Turf", "Everly Quinn", "Evive Designs", "Excell", "Ex-Cell", "Faber- Castell", "Fairfield Chair", "Fan Creations", "Fangio Lighting", "FANMATS", "Fantasy Fields", "Fashion N You by Horizon Interseas", "Fatboy", "Fathead", "Feizy Rugs", "Fellowes Mfg. Co.", "Fernco", "Fiddler's Elbow", "Fiesta", "Fima by Nameeks", "Fine Art Handcrafted Lighting", "Finetec", "Fino", "FireKing", "Fireside Lodge", "First Alert", "Fisher-Price", "FlagHouse", "Flagship Carpets", "Flambeau Lighting", "Flash Furniture", "Flat Rock Furniture", "Flawless Bathroom", "Fleur De Lis Living", "Flexsteel Contract", "Floortex", "Fluidmaster", "Foamnasium", "Focus One Home", "Forever Collectibles", "Forte Lighting", "Foundations", "Foundry Select", "Foundstone™", "Fox Hill Trading", "Franklin Brass", "Franklin Sports", "Franzus", "Fredrix", "Freeport Park®", "Fremont Die", "Fresca", "Fresh Ideas", "Frog Furnishings", "Front Of The House", "Frost Products", "FulcrumProductsInc", "Fun Furnishings", "Fun Rugs", "Furniture Classics", "Gado Gado Hardware", "Gamblin", "GAN RUGS", "Gardall Safe Corporation", "Gardner Bender", "Garland Rug", "Garlando", "Gatco", "GE", "Gedy by Nameeks", "Geesa by Nameeks", "Gemma Violet", "General", "GenovaProducts", "Genuine Joe", "Geo Crafts, Inc", "GEOGRAPHICS", "George Kovacs by Minka", "George Oliver", "Georgia Pacific", "Gerber", "Gerber", "Get Ready Kids", "Ghent", "Giagni", "Gift Mark", "GigaTent", "GLD Products", "Global Furniture Group", "Global Furniture USA", "Global Total Office", "Global Views", "Globe Electric Company", "Go Mama Go", "Godinger Silver Art Co", "Gojo", "GOJO Industries", "Gold Bond", "Gold Medal Bean Bags", "Gold Sparrow", "Golden Artist Colors", "Gorilla Playsets", "Gothic Furniture", "Gowi Toys Austria", "Gracie Oaks", "Grafix", "Green Leaf Art", "GreenBox Art", "Greenington", "Greenleaf Dollhouses", "Greenzone", "Greyleigh™", "Griffin Cues", "Grill Topper", "GROHE", "Grovelane", "Grow 'n Up", "Grumbacher", "GSI Collection", "Guardian", "Guidecraft", "Gus* Modern", "H. Potter", "H. Wilson Company", "Hahn", "Hale Bookcases", "Hallowell", "Halo", "Hamilton Buhl", "Hanger Hamper", "Hansa", "Hansgrohe", "Happy Trails", "Harper Orchard", "Harriet Bee", "Harrows Darts Technology", "Hashtag Home", "Hathaway Games", "Hazelwood Home", "Health o Meter", "HealthCraft", "Heininger Holdings LLC", "Heller", "Hembry Creek", "Herat Oriental", "Hey! Play!", "Hickory Hardware", "Higgins", "High Point Furniture", "Highland Dunes", "Highland Feather", "Hi-Lite", "Hillsdale Furniture", "Hinkley", "Hodedah", "HOFFMASTER®", "Hokku Designs", "Holland Bar Stool", "Hollon Safe", "HomCom", "Home & More", "Home Care by Moen", "Home Decor Inc.", "Home Dynamix", "Home Loft Concepts", "HomePop", "HON", "Honey Can Do", "Honeywell", "Hoohobbers", "Hook & Loop Fastener USA Inc", "Hooker Furniture", "Hopkins Manufacturing", "Hospital Specialty", "House of Hampton®", "Household Essentials", "Houzer", "Howard Elliott", "Howard Miller®", "Hubbardton Forge", "Hudson Valley Lighting", "Humanscale", "HY-C", "Hydro Systems", "Hygloss Products Inc", "Ibolili", "iCanvas", "Iceberg Enterprises", "iCube", "Ideas In Motion", "Ideastream Products", "iDesign", "Iittala", "IMAX", "Impact", "Impact Products LLC", "Impacterra", "Imperial International", "Imports Decor", "IMPULSE!", "In Style Furnishings", "Independent Sleep", "Indigo Safari", "Innomax", "InRoom Designs", "InSinkErator", "Insta-Bed", "Instroke", "InterDesign", "Interlude", "International Caravan", "International Concepts", "International Home Miami", "Intex", "Invisia Collection", "Iotti by Nameeks", "IRIS USA, Inc.", "Isabelle & Max™", "Istikbal", "Italia", "Italuce", "iTouchless", "Ivy Bronx", "IXI", "J and M Home Fashions", "J&J Bedding", "J.K. Adams", "Jacaranda Living", "Jack Daniel's Lifestyle Products", "JACUZZI®", "Jade Bath", "Jado", "James Martin Furniture", "Jamie Young Company", "Jasco", "Jasper Conran by Wedgwood", "Jaxx", "JDS Personalized Gifts", "Jeco Inc.", "Jenlea", "Jennifer Taylor Home", "Jerdon", "Jewel Faucets", "Jewels of Java", "John Boos", "JOHNSON PUMP OF AMERICA INC.", "Jo-Liza International Corp.", "Jonathan Adler", "Jones Stephens", "Jonti-Craft", "Joseph Abboud", "Joss", "Joss & Main", "Just Kids Stuff", "Juwel", "JVI Designs", "KAHLA", "Kalco", "Kaldewei", "Kamenstein", "Kantek", "Karin Maki", "Kartell", "Kathy Ireland Home", "Kathy Ireland Home by Bush Furniture", "Kathy Ireland Office by Bush", "Keet", "Kelly Clarkson Home", "Kendall Howard", "Kensington", "KFI Studios", "Kichler", "Kid Carpet", "KidKraft", "Kid's Adventure", "Kids World Carpets", "Kidstuff Playsystems, Inc.", "Kidwise", "Kidz Motorz", "Kidz World", "Kimberly", "Kimberly-Clark", "Kindwer", "Kingston Brass", "Kitsco", "Klaussner Furniture", "Knape&Vogt", "Kodiak", "Kohler", "Koko Company", "Kokols", "Koncept Technologies Inc", "Koolatron", "Kosta Boda", "KozyWorld", "Kraus", "Krylon", "Krystal", "L.A. Baby", "Lafer", "La-Fete", "Lambs & Ivy", "Landmann", "Lanza", "Largo", "Lark Manor™", "Larsen Supply", "Las Vegas Style", "Latitude Run®", "Laugh, Giggle & Smile", "Laurel Highlands Woodshop", "Lavish Home", "Lawrence Frames", "Lazy Nap", "LCD Fashion", "LCM Home Fashions", "LDR", "Le Creuset", "Le Toy Van", "Le Vele", "Learning Advantage", "Learning Carpets", "Learning Resources", "Leathercraft", "Ledu Corporation", "LEGACY", "Legends Furniture", "Legion Furniture", "LEGO", "Legrand", "LEIFHEIT", "Leisure Season", "Lenox", "Les Jardins", "Leslie Dame Enterprises", "Leviton", "Lexington", "Lexington Studios", "Liberty", "Liberty Furniture", "Libman", "Lil' Rider", "Liquitex", "Lithonia Lighting", "Little Colorado", "Little Tikes", "LittleLion Studio", "Lodge", "Logo Brands", "Longshore Tides", "Loni M Designs", "Loon Peak®", "Lorell", "LR Resources", "LTL Home Products", "LumiSource", "Luxor", "Luxury Living", "Luxury Solutions", "Lynk®", "Mack & Milo™", "MacKenzie-Dow", "Maddak", "Magic Sliders", "Magnuson Group", "Magnussen Furniture", "Majestic Crystal", "Majestic Home Goods", "Mansfield Plumbing Products", "Manual Woodworkers & Weavers", "Manuscript", "Marchesa by Lenox", "Marco Group Inc.", "Marimekko", "Marquis by Waterford", "Marsh", "Martha Stewart Rugs", "Martin Home Furnishings", "Marvel Office Furniture", "Mash Studios", "Master Caster Company", "Master Lock Company", "Master Mounts", "Mastervision", "Mats Inc.", "Maxim Lighting", "Maxtrix Kids", "Mayhem", "McCourt Manufacturing", "McGowan", "MEAD HATCHER", "MEBEl", "Mega Home", "Melissa & Doug", "Menu", "Mercana", "Mercer41", "Mercury Cue Racks", "Mercury Row®", "Merrick", "Merrick Machine Co.", "Mesa Safe Co.", "Metroline", "Metropolitan by Minka", "Metrotex Designs", "Meyda Tiffany", "Michael Amini", "Middle Atlantic", "Midwest Tropical Fountain", "Milliken", "Million Dollar Baby Classic", "Millwood Pines", "Milocks", "Milton Green Star", "Minka Ambience", "Minka Lavery", "Minky Homecare", "Miracle Fold", "Mistana™ Baby & Kids", "Mizerak", "MMF Industries", "Mobital", "Modern Day Accents", "Modloft Black", "Modway", "Moen", "MommysHelper", "Mona Melisa Designs", "Monarch Specialties Inc.", "Monkey Bar Storage", "Monster Vault", "Moonlight Slumber", "MooreCo", "Morelle Company", "Morris Products", "Mossy Oak", "MOTI Furniture", "Mozaic Company", "Mr. Bar-B-Q", "Mr. Steam", "Muniz", "Muse", "My Island", "My Very Own House", "Nambé", "Nantucket Sinks", "Napa East Collection", "Napoleon", "National Public Seating", "Native Trails", "Natural Rugs", "Nature Home Decor", "Naturepedic", "Nedia Home", "Nelson Sprinkler", "Neonetics", "New Arrivals", "New Spec Inc", "New World Trading", "NewAir", "Next® by Danco®", "Nightingale Chairs", "Nikko Ceramics", "nine6", "NMN Designs", "Nodor Darts", "Noir", "Nook Sleep Systems", "Noritake", "Noritz", "NORSONS INDUSTRIES LLC", "Northern Light", "notNeutral", "Nourison", "Novatto", "NOYA USA", "Noyo Home", "NSI", "NU Steel", "Nuevo", "Nu-Flame", "nuLOOM", "Nursery Works", "Oakland Living", "OASIQ", "OC Fun Saks", "Oceanstar Design", "Oenophilia", "Oeuf", "Offi", "Office Star Products", "Officemate International Corp", "Offices To Go", "OfficeSource", "OFM", "Oggetti", "OI Furniture", "Old Dutch International", "Old Modern Handicrafts", "Omnia Leather", "OmniMount", "Omron Healthcare", "On The Edge Marketing", "One Allium Way®", "One Grace Place", "One World", "ONIVA™", "Opella", "Opera", "Ophelia & Co.", "Orange22Modern", "Orbelle Trading", "Orbit", "ORE Furniture", "Organize It All", "Organized Living freedomRail", "Oriental Furniture", "Orren Ellis", "OSIDEA USA", "OSP Designs", "Otis Bed", "Outdoor Living Today", "Outlast", "Outlaw Cues", "Ove Decors", "Ozark Mountain Kids", "Ozark River Portable Sinks", "Ozeri", "P & D Metal Works", "Pablo Designs", "Pacific Coast Feather", "Pacific Play Tents", "Pacon Corporation", "Paderno World Cuisine", "Padmas Plantation", "Palmer Fixture", "PalPlay", "Panacea", "Panama Jack Home", "Panasonic®", "Pangaea Home and Garden", "PanPastel", "Papatya", "Paragon Safe", "Park & Sun", "Passport Furniture", "Patch Magic", "Patina Products", "Peacock Alley", "Pearl Mantels", "Peerless Faucets", "Peerless Plastics Inc", "Peerless-AV", "Pentagon", "Permaloft", "Perma-Vault", "Perrin & Rowe", "Peter Pepper", "PF Waterworks", "Pfaltzgraff", "Pfaltzgraff Everyday", "Pfister", "Philip Reinisch Co.", "Phillips Collection", "Pianca USA", "Picnic at Ascot", "Picnic Time", "Piel Leather", "Pillow with Purpose™", "Pinpoint Mounts", "PitStop Furniture", "PITT", "PlanToys", "Playcraft", "Playsam", "Playseats", "PLC Lighting", "Pleasant Hearth", "Plumb Craft", "PlushBeds", "Pointehaven", "Polder Products LLC", "POLYWOOD®", "Popular Bath", "Populas Furniture", "Porcelight", "Port 68", "Porthos Home", "Portmeirion", "Postertext", "Postertext", "Precious Moments", "Premier Copper Products", "Premier Faucet", "Premier Mounts", "Prepac", "Prepare My Life", "Prestige Furnishings", "PRI", "PrimeLine", "Primo", "Prince Lionheart", "Princeton Artist Brush", "Privilege", "Progress Lighting", "Progressive Furniture Inc.", "Proman Products", "ProMounts", "Protect-A-Bed", "ProvoCraft", "PTM Images", "Pulse Showerspas", "Pure Comfort", "Pure Country Weavers", "Pure Rest", "Pure Rugs", "Purell®", "PVIFS", "QisDesign", "QK Cue Cases", "Quartet®", "QuARTz by ACO", "Quest Manufacturing", "Quickway Imports", "Quiescence", "Quinze & Milan", "Quirky", "R&R Imports", "Rachael Ray", "Radiant Saunas", "Radimo", "Rainshow'r Mfg. Inc", "RAM Game Room", "Rapid®", "Raxxess", "Ready Set Mount", "Real Flame", "Realtree Bedding", "Rebrilliant", "Red Barrel Studio®", "Red Vanilla", "Redline", "Redmon", "Reed & Barton", "Regency", "Relax Sacks", "Reliable Corporation", "Reliance", "Remedy", "Remer by Nameek's", "Replogle Globes", "Respondé", "Reual James", "Rhadi Living", "Rhino Trunk and Case", "Richardson Seating", "Rivalry", "Rizzy Rugs", "Robern", "Robert Abbey", "Rocelco", "Rockabye", "Rogar", "Rohl", "Rojo 16", "Roland Simmons", "Roman Soler by Nameeks", "Ronbow", "Room Envy", "Room Magic", "Room Mates", "Rosalind Wheeler", "Rosdorf Park", "Rose Healthcare", "Rosecliff Heights", "Roselli Trading Company", "Royal & Langnickel", "Royal Albert", "Royal Copenhagen", "Royal Heritage Home", "Royal Pacific", "Roylco Inc", "RS Barcelona", "Rubbermaid", "Rubbermaid Commercial Products", "Rug Studio", "Rush Furniture", "Rusticware", "Ryvyr", "Sacro-Ease", "Safavieh", "Safco Products Company", "Safety 1st", "Salsbury Industries", "Salter", "San Jamar", "Sandusky Cabinets", "Sanford LP", "Saniflo", "Santa's Workshop", "Sanus", "Sargent Art Inc", "Sarmog", "Sarreid Ltd", "Sassafras", "Sauder", "Scale 1:1", "Scarabeo by Nameeks", "Schlage", "Scholastic", "Schonbek", "Scorpion Cues", "Screen Gems", "Sculpey", "Sea Stones", "SeaBreeze Electric", "Sealy", "SeaTeak", "Secretly Designed", "Selectives", "Seletti", "Sentry Safe", "Serta at Home", "Serta Futons", "Seth Cole", "Shahrooz", "Shain", "Sharelle Furnishings", "Sharpie", "Shelter", "ShelterIt", "ShelterLogic", "Shepherd", "Sibi", "Sierra Lifestyles", "Signature Design by Ashley", "Signature Sleep", "Silkroad Exclusive", "Silly Bear Lighting", "Simmons Kids", "simplehuman", "Simpli Home", "Simply Sleeper", "SiouxChief", "Siskiyou Products", "Sitting Bull", "Ski Chair", "Skyline Furniture", "Slacker Sack", "Sleep & Beyond", "Sligh", "Sloan", "Small World Toys", "Smedbo", "Smithsonian Rugs", "SnugFleece", "Sofpull", "sohoConcept", "Sol 72 Outdoor™", "Sole Designs", "Somerset Bay", "Sonneman", "South Shore", "Spa Escapes", "Speakman", "Special Edition by Lush Decor", "Spectrum Diversified", "Speedball", "Spice Islands Wicker", "Spiderlegs", "Sportsquad", "Spot On Square", "Sprout", "St. Croix", "Stack-On", "Staedtler, Inc.", "Stakmore Company, Inc.", "Stalwart", "Standard Furniture", "Stansport", "Star Home", "Startech", "Staub", "Stayclean", "Stealth Cues", "Steam Spa", "Steel Partners", "Steelcase", "Stein World", "Step2", "Sterilite", "Sterling by Kohler", "Sterling Industries", "Steve Silver Furniture", "Stiga", "Stilhaus by Nameeks", "Stone County Ironworks", "Stone Mill Hardware", "Storkcraft", "Strathmore", "Strobel Mattress", "Strom Living", "Studio A Home", "Studio Designs", "Stupell Industries", "StyleCraft Home", "Sumerain International Group", "Summer Infant", "Summit Appliance", "Summit Lecterns", "Sunnywood", "Sunpan Modern", "Sunside Sails", "Supermats Inc", "Sure Fit", "Surya", "Sustainable Threads", "Swaddle Designs", "Swan Surfaces", "Sweet Jojo Designs", "Swift Mounts", "Symmons", "Symple Stuff", "Synergie", "Tableboards", "Tablecraft", "Tadpoles", "Tailgate Toss", "Tannex", "Tatco", "Taylor", "Taylor & Ng", "Team Beans", "Teamson Kids", "Techni Mobili", "Temahome", "Tempaper", "Ten Strawberry Street", "Tennsco Corp.", "Tesco Industries", "Testrite", "Texsport", "Textiles Plus Inc.", "The Bella Collection", "The Chenille Kraft Company", "The Copper Factory", "The Futon Shop", "The Holiday Aisle®", "The Laundry Pod", "The Level Best", "The Little Acorn", "The Memory Company", "The Original Pink Box", "The Outdoor GreatRoom Company", "The Party Aisle™", "The Party Animal, Inc", "The Pencil Grip", "Theater Sacks", "Therapeutic Tubs", "Thetford", "Thirstystone", "Thomasville Kids", "Thorndike Mills", "Three Hands", "Three Posts™", "Tidy Books", "Tier One Designs", "Tile Redi", "Tivoli Audio LLC", "TMS", "Toddler Tables", "Toilet Tattoos", "Toilet Tree Products", "Tombow", "Tommy Bahama Home", "Tony Perotti", "Topperscot", "Topseat", "Tornado", "Tory Furniture", "Toscanaluce by Nameeks", "TOSCANA™", "Toto", "Touchstone", "Towle Silversmiths", "TPI", "Trademark Fine Art", "Trademark Games", "Trademark Global", "Trademark Home Collection", "Trademark Innovations", "Transdeco International", "TransGlobe Lighting", "Tree by Kerri Lee", "Trend Lab", "Trimmer", "Trinx", "Tripp Lite", "Triton Products", "Triumph Sports USA", "Tronk Design", "Trule", "Tucker Murphy™ Pet", "TV Smartshelf", "TVLIFTCABINET, Inc", "Ultra Faucets", "Umbra", "Unicorn", "Unified Marine", "Uniflame", "Union Rustic", "Uniquely Furnished", "United States Stove Company", "United Weavers of America", "Universal®", "Upper Square™", "Urban Styles Furniture Corp.", "Urbangreen Furniture", "Urbia", "UrmStores", "US Watermattress", "UT Wire", "Uwharrie Chair", "Valley Dynamo", "Valo", "Vault W Artwork", "Vaultz®", "Venture Horizon", "Vera Wang", "Vertiflex", "Verus Sports", "Vibia", "Vicenza Designs", "Victor Technology", "VIGO", "Vinotemp", "Vintage Flooring and Furniture", "VintageView", "Vintiquewise", "Viper Tool Storage", "Virtu USA", "Vita V Home", "VitrA by Nameeks", "Viv + Rae", "V-Line Industries", "Vogelzang", "Volume Lighting", "Voodoo Cues", "Vortex Enterprise", "Vutec", "Vynebar", "WAC Lighting", "Waddell", "Wade Logan®", "Wader Quality Toys", "Waechtersbach", "Wall Control", "Wallbeds", "Wallies", "WallPops!", "WarmlyYours", "Waterford", "Wave 7", "Waverly", "Waxman", "Wayborn", "Wayfair Basics®", "Wayfair Custom Upholstery™", "Wayfair Sleep™", "Wedgwood", "Well Woven", "WellnessMats", "Wesco NA", "Weslock", "Westcott", "WFX Utility™", "White Lotus Home", "White Noise", "White x White", "Whitehall Products", "Whitehaus Collection", "Whiteline Imports", "Whitmor, Inc", "Whitney Brothers®", "Whitney Plus", "Wholesale Interiors", "Whynter", "Wikki Stix", "Wilco Home", "Wild Zoo", "Wildkin", "Wildon Home®", "Willa Arlo Interiors", "Willert", "William Sheppee", "Williams Import Co.", "Williston Forge", "Windisch by Nameeks", "Windsor Direct", "Wine Cellar Innovations", "Wine Enthusiast", "Winmau Darts", "Winning Streak", "Winsome", "Winsor & Newton", "Winston Porter", "Wiremold", "Wm Harvey Co", "Wobi Office", "Wohnbadarf", "Wood Designs", "Woodard", "Woodbridge Lighting", "Wooden Mallet", "Woodhaven Hill", "Woodland Home Decor", "Woodland Imports", "Woodlore", "World Menagerie", "Wrought Studio™", "WS Bath Collections", "WUL", "Wyndham Collection", "XYRON", "Yesteryear Wicker", "Yogibo", "Yosemite Home Decor", "YumanMod", "ZACK", "ZANEEN design", "Zanin Lighting Inc.", "Zenith Products", "Zentique", "Zenzation", "Zingz & Thingz", "Z-Lite", "Zoffoli Globes USA", "Zolo", "Zoomie Kids", "Zurn"],
        "primary contact": ['Pete', 'Sally', 'Jake', 'AK', "Jen", "Terry", "Luke", "Dorothy", "Mayaan"],
        "# of unique products": [].range(1, 150),
        "# of products sold": [].range(100, 100000),
        "fufillment partners": ['USPS', 'UPS', 'FedEx', 'DHL'],
        "loyalty program": [true, false],
        "category": ['furniture', 'outdoor', 'bed and bath', 'rugs', 'pillows', 'lighting', 'kitchen', 'baby', 'renovation', 'appliances', 'pets', 'office']

    }

}



//UTILS
function makeGroupProfileData(groupId) {
    let groupTemplate = {
        "$token": config.projectToken,
        "$group_key": config.groupKeyName,
        "$group_id": groupId,
        "$ignore_time": true,
        "$set": {}
    }

    for (groupProp in config.gropProfileProps) {
        groupTemplate.$set[groupProp] = config.gropProfileProps[groupProp].random()
    }

    return groupTemplate;
}

//todo... this only runs once
async function main() {
    for (groupProfile of config.groupKeyValue) {
        let groupData = makeGroupProfileData(groupProfile);
        let req = await sendData(groupData)        
    }

    

}

async function sendData(payload) {
    let postData = querystring.stringify({
        data: JSON.stringify(payload)
    });
    
    let options = {
        hostname: 'api.mixpanel.com',
        port: 443,
        path: '/groups?verbose=1',
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
            'Content-Length': postData.length
        }
    };

    console.log(`creating '${payload.$group_key}' group profile for '${payload.$set.$name}' (id: '${payload.$group_id}')`)
    
    let req = await betterReq(options, postData);
    
    return req;
}

function betterReq(options, data) {
    return new Promise((resolve, reject) => {
        const req = https.request(options);
        req.on("data", (chunk) => {});
        req.on("error", (err) => {
            reject(err);
        })
        req.on("end", (res) => {
            // check if result is satisfactory and either resolve/reject here
            if (res.isFine) {
                resolve(res);
            } else {
                reject(new Error("Response indicated failure"));
            }
        });
        // Send the data off 
        req.write(data);
    });
}

main().then(() => {
    console.log('all done!')
})

function rangeArray(a, b, step = 1) {
    step = !step ? 1 : step;
    b = b / step;
    for (var i = a; i <= b; i++) {
        this.push(i * step);
    }
    return this;
};

function randomArray() {
    return this[Math.floor((Math.random() * this.length))];
}

